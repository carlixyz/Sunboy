/**
 * Created by Carlos on 30/04/14.
 *
 * Version Minified with all Game Logic
 ***/
var SunWorld=(function(){function SunWorld(game,speed){game.load.image('world','images/sunWorld.png');this.angularSpeed=speed||0.5;return this}SunWorld.prototype.resetIt=function(){this.sprite.angle=0;this.sprite.scaleX=1;this.sprite.scaleY=1};SunWorld.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'world');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.anchor.setTo(0.5,0.5);this.sprite.body.allowGravity=false;this.sprite.body.immovable=true;this.sprite.body.setSize(100,500,0,-160);this.sprite.allowRotation=true;this.sprite.angle=rotation;this.GrowTween(game)};SunWorld.prototype.GrowTween=function(game){this.sprite.scale.x=0.2;this.sprite.scale.y=0.2;game.add.tween(this.sprite.scale).to({x:1,y:1},2000,Phaser.Easing.Elastic.Out,true,100,false);game.add.tween(this.sprite).to({alpha:1,angle:360},4000,Phaser.Easing.Exponential.Out,true,100,false).onComplete.add(function(){game.currentState=states.START})};SunWorld.prototype.update=function(game){this.sprite.angle-=this.angularSpeed};SunWorld.prototype.render=function(){game.debug.body(this.sprite)};return SunWorld})();var SunHome=(function(){function SunHome(game,speed){game.load.image('home','images/sunHome.png');this.angularSpeed=speed||0.25;return this}SunHome.prototype.resetIt=function(){game.add.tween(this.sprite).to({angle:0},3000,Phaser.Easing.Exponential.Out,true,100,false)};SunHome.prototype.create=function(game,rotation){this.sprite=game.add.image(game.world.centerX,game.world.centerY+430,'home');this.sprite.anchor.setTo(0.5,7.325);this.sprite.angle=rotation;this.GrowTween(game)};SunHome.prototype.GrowTween=function(game){this.sprite.scale.x=0.1;this.sprite.scale.y=0.1;game.add.tween(this.sprite.scale).to({x:1,y:1,angle:0},2000,Phaser.Easing.Elastic.Out,true,90,false)};SunHome.prototype.update=function(game){this.sprite.angle-=this.angularSpeed};SunHome.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunHome})();var SunBoy=(function(){function SunBoy(game){this.flickering=false;return this}SunBoy.prototype.resetIt=function(){player.sprite.reset(420,230);this.flickering=false;this.sprite.health=3;this.sprite.body.allowGravity=true};SunBoy.prototype.create=function(game,rotation){this.sprite=game.add.sprite(420,200,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(10,20,10,8);this.sprite.animations.add('run',[4,5,6,7]);this.sprite.animations.add('idle',[7],5,false);this.sprite.animations.add('jump',[4],1,false);this.sprite.animations.play('idle',7,false);this.sprite.body.collideWorldBounds=true;this.sprite.body.allowGravity=false;this.sprite.body.immovable=false;this.sprite.body.gravity.y=300};SunBoy.prototype.update=function(game){if(this.sprite.body.touching.down){this.sprite.animations.play('run',7,true);if(game.input.mousePointer.isDown||game.input.mousePointer.onTap||game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)){this.sprite.body.velocity.y=-170;this.sprite.body.bounce.setTo(0,0.35);this.sprite.animations.play('jump',1,true);if(game.cache.isSoundDecoded('jump'))audioJump.play()}}else if(game.input.mousePointer.isDown&&this.sprite.body.velocity.y>0){this.sprite.body.velocity.y-=4;this.sprite.animations.play('jump',1,true)}};SunBoy.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.rectangle(this.sprite.body)};return SunBoy})();var SunPalms=(function(){function SunPalms(speed){this.angularSpeed=speed||0.25;return this}SunPalms.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunPalms.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'palms');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(32,32,-16,-225);this.sprite.anchor.setTo(0.5,6.65);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunPalms.prototype.update=function(game){if(this.sprite.angle<3&&this.sprite.angle>-5)game.physics.arcade.collide(player.sprite,this.sprite);this.sprite.angle-=.2};SunPalms.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunPalms})();var SunCloud=(function(){function SunCloud(speed){this.angularSpeed=speed|0.3;return this}SunCloud.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunCloud.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'cloud');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(64,64,-16,+520);this.sprite.anchor.setTo(0.5,15.5);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation;if(Math.random()>.5)this.sprite.scale.x=-1};SunCloud.prototype.update=function(game){if(this.sprite.angle<3&&this.sprite.angle>-5)game.physics.arcade.collide(player.sprite,this.sprite);this.sprite.angle-=0.25};SunCloud.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunCloud})();var SunPelican=(function(){function SunPelican(speed){this.angularSpeed=0.35||speed;return this}SunPelican.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunPelican.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(16,16,-16,-230);this.sprite.animations.add('pelican',[12,13,14,15],10,true);this.sprite.animations.play('pelican',10,true);this.sprite.anchor.setTo(0.5,15);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.body.allowGravity=false;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunPelican.prototype.update=function(game){if(this.sprite.angle<2.5&&this.sprite.angle>-1&&game.physics.arcade.overlap(player.sprite,this.sprite))hurtPlayer(game);this.sprite.angle-=.3};SunPelican.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunPelican})();var SunCrab=(function(){function SunCrab(speed){this.angularSpeed=speed||.45;return this}SunCrab.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunCrab.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(16,32,-16,+16);this.sprite.animations.add('crab',[8,9,10,11],10,true);this.sprite.animations.play('crab',10,true);this.sprite.anchor.setTo(0.5,13.75);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunCrab.prototype.update=function(game){if(this.sprite.angle<0&&this.sprite.angle>-4.5&&game.physics.arcade.overlap(player.sprite,this.sprite)&&player.sprite.y>200)hurtPlayer(game);this.sprite.angle-=.35};SunCrab.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunCrab})();var SunCoco=(function(){function SunCoco(speed){this.angularSpeed=speed|0.3;return this}SunCoco.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunCoco.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(64,64,0,+425);this.sprite.animations.add('coco',[3],1,false);this.sprite.animations.play('coco',1,false);this.sprite.anchor.setTo(0.5,13.55);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunCoco.prototype.update=function(game){if(this.sprite.angle<0&&this.sprite.angle>-4.5&&game.physics.arcade.overlap(player.sprite,this.sprite)&&this.sprite.visible)takeItem(this);this.sprite.angle-=.3};SunCoco.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunCoco})();var SunHealth=(function(){function SunHealth(speed){this.angularSpeed=speed||.45;return this}SunHealth.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunHealth.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(64,64,-32,+420);this.sprite.animations.add('heart',[0],1,false);this.sprite.animations.play('heart',1,false);this.sprite.anchor.setTo(0.5,13.55);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunHealth.prototype.update=function(game){if(this.sprite.angle<0&&this.sprite.angle>-4.5&&game.physics.arcade.overlap(player.sprite,this.sprite)&&this.sprite.visible)takeItem(this);this.sprite.angle-=0.45};SunHealth.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunHealth})();var SunApple=(function(){function SunApple(speed){this.angularSpeed=speed||.35;return this}SunApple.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunApple.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(64,64,0,+425);this.sprite.animations.add('apple',[1],1,false);this.sprite.animations.play('apple',1,false);this.sprite.anchor.setTo(0.5,13.55);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunApple.prototype.update=function(game){if(this.sprite.angle<0&&this.sprite.angle>-4.5&&game.physics.arcade.overlap(player.sprite,this.sprite)&&this.sprite.visible)takeItem(this);this.sprite.angle-=0.35};SunApple.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunApple})();var SunBanana=(function(){function SunBanana(speed){this.angularSpeed=speed||.25;return this}SunBanana.prototype.resetIt=function(){this.sprite.angle=game.rnd.integerInRange(45,270);this.sprite.visible=true};SunBanana.prototype.create=function(game,rotation){this.sprite=game.add.sprite(game.world.centerX,game.world.centerY+430,'sprites');game.physics.enable(this.sprite,Phaser.Physics.ARCADE);this.sprite.body.setSize(64,64,0,+425);this.sprite.animations.add('banana',[2],1,false);this.sprite.animations.play('banana',1,false);this.sprite.anchor.setTo(0.5,13.55);this.sprite.body.allowHorizontalDrag=false;this.sprite.body.immovable=true;this.sprite.allowRotation=true;this.sprite.angle=rotation};SunBanana.prototype.update=function(game){if(this.sprite.angle<0&&this.sprite.angle>-4.5&&game.physics.arcade.overlap(player.sprite,this.sprite)&&this.sprite.visible)takeItem(this);this.sprite.angle-=0.25};SunBanana.prototype.render=function(){game.debug.spriteInfo(this.sprite,32,32);game.debug.body(this.sprite)};return SunBanana})();
